import{setCookie,getCookie}from"./modules/Cookie.js";import loadPage from"./modules/LoadPage.js";import{graphQLQuery}from"./api.js";async function showModal(){const a=await graphQLQuery(`query {user {referrals {hasVerifiedEmail, redeemed}}}`);if(!getCookie("homepageReferralShown")){const b=document.querySelector(".referral-modal");if(null===b||void 0===b?void 0:b.classList.remove("hidden"),200===a.status){const b=await a.json(),{data:{user:{referrals:c}}}=b;c.length?setCookie("homepageReferralShown",Date.now(),60):setCookie("homepageReferralShown",Date.now())}else setCookie("homepageReferralShown",Date.now())}}function init(){showModal()}loadPage().then(init);